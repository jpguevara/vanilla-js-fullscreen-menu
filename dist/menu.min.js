!function(e,n){"function"==typeof define&&define.amd?define([],n(e)):"object"==typeof exports?module.exports=n(e):e.Menu=n(e)}(this,function(e){"use strict"
function n(e){var n=e.target.classList.contains(m.menuItemClass),t=e.target.hasAttribute(m.menuToggleAttribute),s=o(e.target,m.menuItemClass),i=u(e.target,m.menuToggleAttribute)
if(n||t||s||i){if(n||s){var a=o(e.target,"menu")
l.toggle(a.id)}if(t||i){var r=i.getAttribute(m.menuToggleAttribute)
if(!r)return
l.toggle(r)}}}function t(e){e.classList.remove(m.menuHiddenClass),e.classList.add(m.menuShowClass),m.showAnimations&&(e.classList.remove(m.animationHideClass),e.classList.add(m.animationShowClass))}function s(e){e.classList.add(m.menuHiddenClass),e.classList.remove(m.menuShowClass),m.showAnimations&&(e.classList.add(m.animationHideClass),e.classList.remove(m.animationShowClass))}function i(){for(var e=document.getElementsByClassName(m.menuClass),n=0;n<e.length;n++)s(e[n])}function a(e,n){for(var t in n)n.hasOwnProperty(t)&&(e[t]=n[t])
return e}function o(e,n){for(;(e=e.parentElement)&&!e.classList.contains(n););return e}function u(e,n){for(;!e.hasAttribute(n)&&(e=e.parentElement););return e}var m,l={},r="querySelector"in document&&"addEventListener"in e,d={menuClass:"menu",menuHiddenClass:"menu-hidden",menuShowClass:"menu-show",menuItemClass:"menu-item",menuToggleAttribute:"menu-toggle",showAnimations:!1,animationHideClass:"menu-hide-animate",animationShowClass:"menu-show-animate"}
return l.toggle=function(e){var n=document.getElementById(e)
if(!n)return!1
n.classList.contains(m.menuHiddenClass)?t(n):n.classList.contains(m.menuShowClass)?s(n):n.classList.add(m.menuHiddenClass)},l.init=function(e){r&&(m=a(d,e),document.addEventListener("click",n,!0),i())},l.destroy=function(){m&&(m=null,document.removeEventListener("click",n,!0))},l})
